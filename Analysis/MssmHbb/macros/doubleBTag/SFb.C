#include "TF1.h"

int SFb(){

	TF1 *central = new TF1("central","-(5.1345)+(0.000820101*(log(x+11518.1)*(log(x+11518.1)*(3-(-(8.66128*log(x+11518.1)))))))" ,30,670);
	central->SetTitle("BTagScaleFactor;p_{T} (GeV); SFb");
	central->GetYaxis()->SetRangeUser(0.8,1.2);
	central->SetLineColor(1);

	TF1 *up1 = new TF1("up1","(-(5.1345)+(0.000820101*(log(x+11518.1)*(log(x+11518.1)*(3-(-(8.66128*log(x+11518.1))))))))+0.031852148473262787",30,50);
	TF1 *up2 = new TF1("up2","(-(5.1345)+(0.000820101*(log(x+11518.1)*(log(x+11518.1)*(3-(-(8.66128*log(x+11518.1))))))))+0.023946098983287811",50,70);
	TF1 *up3 = new TF1("up3","(-(5.1345)+(0.000820101*(log(x+11518.1)*(log(x+11518.1)*(3-(-(8.66128*log(x+11518.1))))))))+0.038635428994894028",70,100);
	TF1 *up4 = new TF1("up4","(-(5.1345)+(0.000820101*(log(x+11518.1)*(log(x+11518.1)*(3-(-(8.66128*log(x+11518.1))))))))+0.031439229846000671",100,140);
	TF1 *up5 = new TF1("up5","(-(5.1345)+(0.000820101*(log(x+11518.1)*(log(x+11518.1)*(3-(-(8.66128*log(x+11518.1))))))))+0.049481656402349472",140,200);
	TF1 *up6 = new TF1("up6","(-(5.1345)+(0.000820101*(log(x+11518.1)*(log(x+11518.1)*(3-(-(8.66128*log(x+11518.1))))))))+0.07402532547712326",200,300);
	TF1 *up7 = new TF1("up7","(-(5.1345)+(0.000820101*(log(x+11518.1)*(log(x+11518.1)*(3-(-(8.66128*log(x+11518.1))))))))+0.074882696777582169",300,670);

	TF1 *down1 = new TF1("down1","-(5.1345)+((0.000820101*(log(x+11518.1)*(log(x+11518.1)*(3-(-(8.66128*log(x+11518.1)))))))-0.031852148473262787)",30,50);
	TF1 *down2 = new TF1("down2","-(5.1345)+((0.000820101*(log(x+11518.1)*(log(x+11518.1)*(3-(-(8.66128*log(x+11518.1)))))))-0.023946098983287811)",50,70);
	TF1 *down3 = new TF1("down3","-(5.1345)+((0.000820101*(log(x+11518.1)*(log(x+11518.1)*(3-(-(8.66128*log(x+11518.1)))))))-0.038635428994894028)",70,100);
	TF1 *down4 = new TF1("down4","-(5.1345)+((0.000820101*(log(x+11518.1)*(log(x+11518.1)*(3-(-(8.66128*log(x+11518.1)))))))-0.031439229846000671)",100,140);
	TF1 *down5 = new TF1("down5","-(5.1345)+((0.000820101*(log(x+11518.1)*(log(x+11518.1)*(3-(-(8.66128*log(x+11518.1)))))))-0.049481656402349472)",140,200);
	TF1 *down6 = new TF1("down6","-(5.1345)+((0.000820101*(log(x+11518.1)*(log(x+11518.1)*(3-(-(8.66128*log(x+11518.1)))))))-0.07402532547712326)",200,300);
	TF1 *down7 = new TF1("down7","-(5.1345)+((0.000820101*(log(x+11518.1)*(log(x+11518.1)*(3-(-(8.66128*log(x+11518.1)))))))-0.074882696777582169)",300,670);



	central->Draw();
	up1->Draw("same");
	up2->Draw("same");
	up3->Draw("same");
	up4->Draw("same");
	up5->Draw("same");
	up6->Draw("same");
	up7->Draw("same");

	down1->Draw("same");
	down2->Draw("same");
	down3->Draw("same");
	down4->Draw("same");
	down5->Draw("same");
	down6->Draw("same");
	down7->Draw("same");

	std::cout<<" 105 central:"<<central->Eval(105)<<" up: "<<up4->Eval(105)<<" down: "<<down4->Eval(105)<<std::endl;
	std::cout<<"Evaluation: "<<central->Eval(105)*central->Eval(105)<<" Error: "<<(up4->Eval(105)*up4->Eval(105)-down4->Eval(105)*down4->Eval(105))/2<<
			" "<<(up4->Eval(105)*up4->Eval(105)-down4->Eval(105)*down4->Eval(105))/2/central->Eval(105)/central->Eval(105)<<std::endl;


	return 0;
}
